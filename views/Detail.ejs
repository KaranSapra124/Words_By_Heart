<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Detail</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body>
    
    <div class="container">
        <ul class="List"></ul>
      <form class="form">  
        <input type="text" name="Name" id="Myname" placeholder="Enter Your Name...">
      <button class="btn btn-primary">Add Me</button></form>
    </div>



    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script>
        var socket = io()
        var List = document.querySelector('.List')
        var form = document.querySelector('.form')
        var inp = document.getElementById("Myname");
        form.addEventListener('submit', ('submit', (e) => {
            e.preventDefault()
            if(inp.value){
                socket.emit('chat message',inp.value)
                inp.value = ''
            }

        }))

        socket.on('chat message',(msg)=>{
            List.innerHTML += ` <li id="List_items"><strong>${msg}</strong> is connected</li>`;
            window.location.href = '/Chat'
            
        })
    </script>
</body>
</html>